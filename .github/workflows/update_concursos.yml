name: Atualizar Concursos

on:
  schedule:
    - cron: "0 12 * * *"  # roda todo dia Ã s 12h UTC (~9h da manhÃ£ no Brasil)
  workflow_dispatch:      # permite rodar manualmente tambÃ©m

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write   # ðŸ‘ˆ necessÃ¡rio para dar push no repo

    steps:
      - name: Clonar repositÃ³rio
        uses: actions/checkout@v3

      - name: Configurar Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Instalar dependÃªncias
        run: |
          pip install requests beautifulsoup4

      - name: Rodar crawler
        run: python crawler.py   # ðŸ‘ˆ nome do arquivo do seu cÃ³digo de scraping

      - name: Commit e push resultados
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "github-actions[bot]@users.noreply.github.com"
          git add concursos.json
          git commit -m "AtualizaÃ§Ã£o automÃ¡tica de concursos" || echo "Nada a atualizar"
          git push
